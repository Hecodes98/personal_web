---
const formEndpoint = "https://eoxu5wo34c749vl.m.pipedream.net/"; // Cambia por tu endpoint real
---

<div class="bg-white p-4 rounded shadow w-full max-w-md">
  <h2 class="text-xl font-semibold mb-2">Si tienes alguna consideracion, puedes dejarla aquí, me llegará el mensaje al servidor y lo tendré en cuenta</h2>
  <form action={formEndpoint} method="POST" class="flex flex-col space-y-4">
    <textarea 
      name="mensaje" 
      rows="4" 
      class="border p-2 rounded w-full"
      placeholder="Escribe tu mensaje aquí..."
    ></textarea>
    <button type="submit" class="bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600 self-end">
      Enviar
    </button>
  </form>
</div>

<script>
    document.getElementById('messageForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    const form = e.target;
    const formData = new FormData(form);
    const mensaje = formData.get('mensaje');

    // Reemplaza TU_URL_DE_HOOKBIN con la URL que te dio Hookbin
    const response = await fetch('https://eoxu5wo34c749vl.m.pipedream.net/', {
      method: 'POST',
      body: JSON.stringify({ mensaje }),
      headers: { 'Content-Type': 'application/json' }
    });

    const statusDiv = document.getElementById('formStatus');
    if (response.ok) {
      statusDiv.textContent = "¡Mensaje enviado correctamente!";
      form.reset();
    } else {
      statusDiv.textContent = "Hubo un error. Inténtalo de nuevo.";
    }
  });
</script>
